<html>

<head>
  <title>Machine Learning</title>
</head>

<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.0.0/p5.min.js"></script>
  <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
  <script>
    console.log("ml5", ml5);
    let classifier;
    let img;

    function preload() {
      classifier = ml5.imageClassifier('MobileNet');
      img = loadImage('download.png');
    }

    function setup() {
      createCanvas(400, 400);
      classifier.classify(img, gotResult);
      image(img, 0, 0);
    }

    function gotResult(error, result) {
      if (error) {
        console.error(error);
      } else {
        console.log(result);
        createDiv(`Label: ${result[0].label} `);
        createDiv(`Confidence: ${result[0].confidence.toFixed(2)*100}% `);
      }
    }
  </script>
</body>

</html>